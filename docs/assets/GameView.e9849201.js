import{u as C,o,c,a as e,t as l,b as a,d as q,r as v,e as m,f as J,w as I,g as K,n as Q,h as b,s as W,F as X,i as Y,j as Z,m as ee,_ as te,k as B,l as u,p as M}from"./index.3541f5fe.js";import{w as L,a as se}from"./funciones.5a53a53f.js";/* empty css                                                 */const ae={setup(i){const s=C();return(t,p)=>(o(),c("div",null,[e("span",null,l(a(s).recursos)+" \u{1F4B0} ",1)]))}};const oe={class:"productor"},ne={class:"recolectar"},ce=["disabled"],re=["src"],le={key:0,class:"recolectado"},ue={class:"centro"},ie={class:"centro-datos"},_e={class:"contenedor_nombre"},de={class:"nombre"},ve={class:"lvl"},pe={class:"barra"},me={key:0,class:"barra-datos"},fe=e("span",null,"listo para recolectar",-1),he=[fe],ge={key:1,class:"barra-datos"},be=["disabled"],ye=e("div",null,null,-1),we={props:{nombre:{type:String,default:"Gnomos"},imagen:{type:String,default:"logo.svg"},nivel:{type:Number,default:1},produccionInicial:{type:Number,default:5},costeInicial:{type:Number,default:50},tiempo:{type:Number,default:1},autoRecolectar:{type:Boolean,default:!1}},setup(i){const s=i,t=C(),p="/tap2022/",{sePuedeComprar:R,comprar:U,cambiarMensaje:y}=t,V=1.17,{produccionInicial:F,costeInicial:G,autoRecolectar:j,nombre:D,nivel:w}=q(s),P=v(s.tiempo),_=v(0),f=v(Date.now()),d=v(!1),k=v(!1);v(!1);const $=m(()=>F.value*w.value),h=m(()=>Math.trunc(G.value*Math.pow(w.value,V))),A=m(()=>!R(h.value)),z=m(()=>_.value/s.tiempo),E=m(()=>{let n=Math.round(s.tiempo-_.value);var r=new Date(null);r.setSeconds(n);let g="",T=r.getUTCHours();T>0&&(g=T+"h ");let S=r.getUTCMinutes();return S>0&&(g+=S+"m "),g+=r.getUTCSeconds()+"s",g}),x=()=>{t.recursos+=$.value,f.value=Date.now(),_.value=0,d.value=!1,H()},H=async()=>{k.value=!0,await L(1e3),k.value=!1},N=async()=>{if(await L(100),!d.value){const n=Date.now()-f.value;_.value=n/1e3,n>s.tiempo*1e3&&(f.value=Date.now(),d.value=!0,_.value=s.tiempo,j.value&&x())}N()};J(()=>{N()}),I(j,n=>{d.value&&x()}),I(P,n=>{f.value=Date.now(),_.value=0});const O=n=>{let r=n.target;t.recursos-=h.value,t.subirNivel(D.value),se(r,h.value,!1)};return(n,r)=>(o(),c("div",oe,[e("div",ne,[e("button",{class:"boton-recolectar",disabled:!d.value,onClick:x},[e("img",{alt:"",class:"",src:`${a(p)}/img/${i.imagen}`},null,8,re)],8,ce),k.value?(o(),c("p",le,"+ "+l(a($)),1)):K("",!0)]),e("div",ue,[e("div",ie,[e("div",_e,[e("p",de,l(a(D)),1),e("span",ve,"Lvl: "+l(a(w)),1)]),e("div",pe,[d.value?(o(),c("div",me,he)):(o(),c("div",ge,[e("div",null,[e("span",null,l(a($))+" \u{1F4B0}",1),e("span",null,l(a(E)),1)])])),e("div",{class:"barra-interna",style:Q({width:a(z)*100+"%"})},null,4)]),e("button",{class:"boton-mejorar",onClick:O,disabled:a(A)},[b(" Mejorar\u{1F4B0} "+l(a(h)),1),ye],8,be)])])]))}},ke={class:"productores"},$e={setup(i){const s=C(),{productores:t}=W(s);return console.log("productores",t),(p,R)=>(o(),c("div",ke,[(o(!0),c(X,null,Y(a(t),(U,y)=>(o(),Z(we,ee({key:y},a(t)[y]),null,16))),128))]))}};const xe={},Me={class:"menu-i"},Ce=b("Trabajo"),Re=b("Managers"),je=b("Mejoras");function De(i,s){const t=B("RouterLink");return o(),c("div",null,[e("div",Me,[u(t,{class:"router-link",to:"/game"},{default:M(()=>[Ce]),_:1}),u(t,{class:"router-link",to:"/game/managers"},{default:M(()=>[Re]),_:1}),u(t,{class:"router-link",to:"/game/mejoras"},{default:M(()=>[je]),_:1})])])}var Ne=te(xe,[["render",De]]);const Te={class:"contenedor-router"},Se={class:"menu"},Ve={setup(i){return(s,t)=>{const p=B("router-view");return o(),c("main",null,[u(ae,{class:"banco"}),e("div",Te,[u($e)]),e("div",Se,[u(Ne,{class:"menu-nav"}),u(p,{class:""})])])}}};export{Ve as default};
