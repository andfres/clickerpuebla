import{u as C,o,c,a as e,t as l,b as a,d as q,r as p,e as m,f as J,w as I,g as K,n as Q,h as b,s as W,F as X,i as Y,j as Z,m as ee,_ as te,k as B,l as u,p as M}from"./index.0e510d52.js";import{w as L,a as se}from"./funciones.5a53a53f.js";/* empty css                                                 */const ae={setup(i){const s=C();return(t,v)=>(o(),c("div",null,[e("span",null,l(a(s).recursos)+" \u{1F4B0} ",1)]))}};const oe={class:"productor"},ne=e("h1",null,"pruebaaa",-1),ce={class:"recolectar"},re=["disabled"],le=["src"],ue={key:0,class:"recolectado"},ie={class:"centro"},_e={class:"centro-datos"},de={class:"contenedor_nombre"},pe={class:"nombre"},ve={class:"lvl"},me={class:"barra"},he={key:0,class:"barra-datos"},fe=e("span",null,"listo para recolectar",-1),ge=[fe],be={key:1,class:"barra-datos"},ye=["disabled"],we=e("div",null,null,-1),ke={props:{nombre:{type:String,default:"Gnomos"},imagen:{type:String,default:"logo.svg"},nivel:{type:Number,default:1},produccionInicial:{type:Number,default:5},costeInicial:{type:Number,default:50},tiempo:{type:Number,default:1},autoRecolectar:{type:Boolean,default:!1}},setup(i){const s=i,t=C(),v="/tap2022/",{sePuedeComprar:R,comprar:U,cambiarMensaje:y}=t,V=1.17,{produccionInicial:F,costeInicial:G,autoRecolectar:j,nombre:D,nivel:w}=q(s),P=p(s.tiempo),_=p(0),h=p(Date.now()),d=p(!1),k=p(!1);p(!1);const $=m(()=>F.value*w.value),f=m(()=>Math.trunc(G.value*Math.pow(w.value,V))),A=m(()=>!R(f.value)),z=m(()=>_.value/s.tiempo),E=m(()=>{let n=Math.round(s.tiempo-_.value);var r=new Date(null);r.setSeconds(n);let g="",T=r.getUTCHours();T>0&&(g=T+"h ");let S=r.getUTCMinutes();return S>0&&(g+=S+"m "),g+=r.getUTCSeconds()+"s",g}),x=()=>{t.recursos+=$.value,h.value=Date.now(),_.value=0,d.value=!1,H()},H=async()=>{k.value=!0,await L(1e3),k.value=!1},N=async()=>{if(await L(100),!d.value){const n=Date.now()-h.value;_.value=n/1e3,n>s.tiempo*1e3&&(h.value=Date.now(),d.value=!0,_.value=s.tiempo,j.value&&x())}N()};J(()=>{N()}),I(j,n=>{d.value&&x()}),I(P,n=>{h.value=Date.now(),_.value=0});const O=n=>{let r=n.target;t.recursos-=f.value,t.subirNivel(D.value),se(r,f.value,!1)};return(n,r)=>(o(),c("div",oe,[ne,e("div",ce,[e("button",{class:"boton-recolectar",disabled:!d.value,onClick:x},[e("img",{alt:"",class:"",src:`${a(v)}/img/${i.imagen}`},null,8,le)],8,re),k.value?(o(),c("p",ue,"+ "+l(a($)),1)):K("",!0)]),e("div",ie,[e("div",_e,[e("div",de,[e("p",pe,l(a(D)),1),e("span",ve,"Lvl: "+l(a(w)),1)]),e("div",me,[d.value?(o(),c("div",he,ge)):(o(),c("div",be,[e("div",null,[e("span",null,l(a($))+" \u{1F4B0}",1),e("span",null,l(a(E)),1)])])),e("div",{class:"barra-interna",style:Q({width:a(z)*100+"%"})},null,4)]),e("button",{class:"boton-mejorar",onClick:O,disabled:a(A)},[b(" Mejorar\u{1F4B0} "+l(a(f)),1),we],8,ye)])])]))}},$e={class:"productores"},xe={setup(i){const s=C(),{productores:t}=W(s);return console.log("productores",t),(v,R)=>(o(),c("div",$e,[(o(!0),c(X,null,Y(a(t),(U,y)=>(o(),Z(ke,ee({key:y},a(t)[y]),null,16))),128))]))}};const Me={},Ce={class:"menu-i"},Re=b("Trabajo"),je=b("Managers"),De=b("Mejoras");function Ne(i,s){const t=B("RouterLink");return o(),c("div",null,[e("div",Ce,[u(t,{class:"router-link",to:"/game"},{default:M(()=>[Re]),_:1}),u(t,{class:"router-link",to:"/game/managers"},{default:M(()=>[je]),_:1}),u(t,{class:"router-link",to:"/game/mejoras"},{default:M(()=>[De]),_:1})])])}var Te=te(Me,[["render",Ne]]);const Se={class:"contenedor-router"},Ie={class:"menu"},Fe={setup(i){return(s,t)=>{const v=B("router-view");return o(),c("main",null,[u(ae,{class:"banco"}),e("div",Se,[u(xe)]),e("div",Ie,[u(Te,{class:"menu-nav"}),u(v,{class:""})])])}}};export{Fe as default};
