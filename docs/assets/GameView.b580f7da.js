import{u as C,o,c,a as e,t as l,b as a,d as O,r as v,e as p,f as q,w as S,g as J,n as K,h as y,s as Q,F as W,i as X,j as Y,m as Z,_ as ee,k as L,l as u,p as $}from"./index.1fc3dda2.js";import{w as I,a as te}from"./funciones.5a53a53f.js";/* empty css                                                 */const se={setup(i){const s=C();return(t,m)=>(o(),c("div",null,[e("span",null,l(a(s).recursos)+" \u{1F4B0} ",1)]))}};const ae={class:"productor"},oe={class:"recolectar"},ne=["disabled"],ce=["src"],re={key:0,class:"recolectado"},le={class:"centro"},ue={class:"centro-datos"},ie={class:"contenedor_nombre"},_e={class:"nombre"},de={class:"lvl"},ve={class:"barra"},me={key:0,class:"barra-datos"},pe=e("span",null,"listo para recolectar",-1),fe=[pe],he={key:1,class:"barra-datos"},ge=["disabled"],be=e("div",null,null,-1),ye={props:{nombre:{type:String,default:"Gnomos"},imagen:{type:String,default:"logo.svg"},nivel:{type:Number,default:1},produccionInicial:{type:Number,default:5},costeInicial:{type:Number,default:50},tiempo:{type:Number,default:1},autoRecolectar:{type:Boolean,default:!1}},setup(i){const s=i,t=C(),{sePuedeComprar:m,comprar:B,cambiarMensaje:U}=t,f=1.17,{produccionInicial:V,costeInicial:F,autoRecolectar:R,nombre:j,nivel:w}=O(s),G=v(s.tiempo),_=v(0),h=v(Date.now()),d=v(!1),k=v(!1);v(!1);const x=p(()=>V.value*w.value),g=p(()=>Math.trunc(F.value*Math.pow(w.value,f))),P=p(()=>!m(g.value)),A=p(()=>_.value/s.tiempo),z=p(()=>{let n=Math.round(s.tiempo-_.value);var r=new Date(null);r.setSeconds(n);let b="",N=r.getUTCHours();N>0&&(b=N+"h ");let T=r.getUTCMinutes();return T>0&&(b+=T+"m "),b+=r.getUTCSeconds()+"s",b}),M=()=>{t.recursos+=x.value,h.value=Date.now(),_.value=0,d.value=!1,E()},E=async()=>{k.value=!0,await I(1e3),k.value=!1},D=async()=>{if(await I(100),!d.value){const n=Date.now()-h.value;_.value=n/1e3,n>s.tiempo*1e3&&(h.value=Date.now(),d.value=!0,_.value=s.tiempo,R.value&&M())}D()};q(()=>{D()}),S(R,n=>{d.value&&M()}),S(G,n=>{h.value=Date.now(),_.value=0});const H=n=>{let r=n.target;t.recursos-=g.value,t.subirNivel(j.value),te(r,g.value,!1)};return(n,r)=>(o(),c("div",ae,[e("div",oe,[e("button",{class:"boton-recolectar",disabled:!d.value,onClick:M},[e("img",{alt:"",class:"",src:`/img/${i.imagen}`},null,8,ce)],8,ne),k.value?(o(),c("p",re,"+ "+l(a(x)),1)):J("",!0)]),e("div",le,[e("div",ue,[e("div",ie,[e("p",_e,l(a(j)),1),e("span",de,"Lvl: "+l(a(w)),1)]),e("div",ve,[d.value?(o(),c("div",me,fe)):(o(),c("div",he,[e("div",null,[e("span",null,l(a(x))+" \u{1F4B0}",1),e("span",null,l(a(z)),1)])])),e("div",{class:"barra-interna",style:K({width:a(A)*100+"%"})},null,4)]),e("button",{class:"boton-mejorar",onClick:H,disabled:a(P)},[y(" Mejorar\u{1F4B0} "+l(a(g)),1),be],8,ge)])])]))}},we={class:"productores"},ke={setup(i){const s=C(),{productores:t}=Q(s);return console.log("productores",t),(m,B)=>(o(),c("div",we,[(o(!0),c(W,null,X(a(t),(U,f)=>(o(),Y(ye,Z({key:f},a(t)[f]),null,16))),128))]))}};const xe={},Me={class:"menu-i"},$e=y("Trabajo"),Ce=y("Managers"),Re=y("Mejoras");function je(i,s){const t=L("RouterLink");return o(),c("div",null,[e("div",Me,[u(t,{class:"router-link",to:"/game"},{default:$(()=>[$e]),_:1}),u(t,{class:"router-link",to:"/game/managers"},{default:$(()=>[Ce]),_:1}),u(t,{class:"router-link",to:"/game/mejoras"},{default:$(()=>[Re]),_:1})])])}var De=ee(xe,[["render",je]]);const Ne={class:"contenedor-router"},Te={class:"menu"},Ue={setup(i){return(s,t)=>{const m=L("router-view");return o(),c("main",null,[u(se,{class:"banco"}),e("div",Ne,[u(ke)]),e("div",Te,[u(De,{class:"menu-nav"}),u(m,{class:""})])])}}};export{Ue as default};
